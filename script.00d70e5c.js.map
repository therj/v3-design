{"version":3,"sources":["js/script.js"],"names":["goDark","document","querySelector","goLight","navBar","navPoly","navHam","navToggleCheckbox","navMenu","storeThemePreference","window","setTheme","currentTheme","CURRENT_THEME","DARK_THEME_NAME","LIGHT_THEME_NAME","NAV_POLY_SCROLL_SHOW","NAV_POLY_SCROLL_HIDE","HIDE_NAV_SCROLL_POS","setThemeIcons","mode","prevScroll","scrollY","documentElement","scrollTop","curScroll","direction","prevDirection","checkScroll","classList","add","remove","toggleHeader","init","addEventListener","e","changeTheme","setObserver","menuToggle","checked","body","targetNode","options","attributes","childList","subtree","observer","MutationObserver","observeMe","observe","mutation","theBody","attributeName","scrollLock","includes","console","log","disableScroll","enableScroll","keys","preventDefault","preventDefaultForScrollKeys","keyCode","supportsPassive","Object","defineProperty","get","wheelOpt","passive","wheelEvent","createElement","removeEventListener"],"mappings":"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","file":"script.00d70e5c.js","sourceRoot":"../src","sourcesContent":["const goDark = document.querySelector('.goDark')\nconst goLight = document.querySelector('.goLight')\nconst navBar = document.querySelector('nav')\nconst navPoly = document.querySelector('.nav__poly')\nconst navHam = document.querySelector('.nav__ham')\nconst navToggleCheckbox = document.querySelector('input.nav__toggle')\nconst navMenu = document.querySelector('.nav__menu')\n\nconst storeThemePreference = window.storeThemePreference;\nconst setTheme = window.setTheme;\nconst currentTheme = window.CURRENT_THEME;\nconst DARK_THEME_NAME = window.DARK_THEME_NAME\nconst LIGHT_THEME_NAME = window.LIGHT_THEME_NAME\n\nconst NAV_POLY_SCROLL_SHOW = 32; //24;\nconst NAV_POLY_SCROLL_HIDE = 48; //48\n// hide nav scroll position Y!\nlet HIDE_NAV_SCROLL_POS = 256;\n\n\nfunction setThemeIcons(mode) {\n  // if (mode == LIGHT_THEME_NAME) {\n  //   goLight.classList.add('hidden')\n  //   goDark.classList.remove('hidden')\n  // }\n  // else if (mode == DARK_THEME_NAME) {\n  //   goDark.classList.add('hidden')\n  //   goLight.classList.remove('hidden')\n  // }\n\n}\n\nlet prevScroll = window.scrollY || document.documentElement.scrollTop;\nvar curScroll;\nvar direction = 0;\nvar prevDirection = 0;\nfunction checkScroll() {\n  /*\n  ** Find the direction of scroll\n  ** 0 - initial, 1 - up, 2 - down\n  */\n  curScroll = window.scrollY || document.documentElement.scrollTop;\n  if (curScroll > prevScroll) {\n    //scrolled up\n    direction = \"DOWN\";\n  }\n  else if (curScroll < prevScroll) {\n    //scrolled down\n    direction = \"UP\";\n  }\n  if (curScroll >= NAV_POLY_SCROLL_HIDE) {\n    navPoly.classList.add('nav__poly--hide')\n  }\n  else if (curScroll <= NAV_POLY_SCROLL_SHOW) {\n    navPoly.classList.remove('nav__poly--hide')\n  }\n\n  if (direction !== prevDirection) {\n    toggleHeader(direction, curScroll);\n  }\n  prevScroll = curScroll;\n};\nfunction toggleHeader(direction, curScroll) {\n  if (direction === \"DOWN\" && curScroll > HIDE_NAV_SCROLL_POS) {\n    //replace HIDE_NAV_SCROLL_POS with height of your header in px\n    navBar.classList.add('nav--hide');\n    // hide ploygon explicitly -> shouldn't come back on reverse scroll\n    navPoly ? navPoly.classList.add('nav__poly--hide') : ''\n    prevDirection = direction;\n  }\n  else if (direction === \"UP\") {\n    navBar.classList.remove('nav--hide');\n    prevDirection = direction;\n  }\n};\n\nfunction init() {\n  // These init\n  setThemeIcons(currentTheme)\n  // TODO: combine event listeners\n  goDark.addEventListener('click', (e) => {\n    changeTheme(DARK_THEME_NAME)\n    setThemeIcons(DARK_THEME_NAME)\n  })\n\n  goLight.addEventListener('click', (e) => {\n    changeTheme(LIGHT_THEME_NAME)\n    setThemeIcons(LIGHT_THEME_NAME)\n  })\n  // for scroll lock\n  setObserver()\n  navToggleCheckbox.addEventListener('change', menuToggle)\n  // fixed menu on reverse scroll\n  window.addEventListener('scroll', checkScroll);\n  // mid-scrolled reload\n  checkScroll()\n\n}\n\nfunction changeTheme(mode) {\n  setTheme(mode)\n  storeThemePreference(mode)\n}\n\n\nfunction menuToggle() {\n  // do NOT toggle: menu can exist before JS loads\n  // That'd reverse required scroll-lock behaviour in some cases!\n  if (navToggleCheckbox.checked) {\n    document.body.classList.add('scroll-lock');\n  } else {\n    document.body.classList.remove('scroll-lock');\n\n  }\n}\n\n\nfunction setObserver() {\n  const targetNode = document.querySelector('body');\n  let options = {\n    attributes: true, childList: false, subtree: false\n\n  }\n\n  const observer = new MutationObserver(observeMe);\n\n  observer.observe(targetNode, options)\n\n  function observeMe(mutation, observer) {\n    const theBody = mutation[0];\n    if (theBody.attributeName == \"class\") {\n\n      // const blocker = (e) => { e.preventDefault(); e.stopPropagation(); }\n      scrollLock()\n      if ([...document.body.classList].includes('scroll-lock')) {\n        console.log('Obeserverbee');\n        scrollLock.disableScroll()\n        // console.log(\"🚀 ~ file: script.js ~ line 139 ~ observeMe ~ blocker\", blocker)\n      }\n      else {\n        console.log('OUT!');\n        scrollLock.enableScroll()\n      }\n    }\n\n  }\n\n\n\n  // call this to Disable\n  function scrollLock() {\n    // left: 37, up: 38, right: 39, down: 40,\n    // spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\n    var keys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n    function preventDefault(e) {\n      e.preventDefault();\n    }\n    function preventDefaultForScrollKeys(e) {\n      if (keys[e.keyCode]) {\n        preventDefault(e);\n        return false;\n      }\n    }\n    // modern Chrome requires { passive: false } when adding event\n    let supportsPassive = false;\n    try {\n      window.addEventListener(\"test\", null, Object.defineProperty({}, 'passive', {\n        get: function () { supportsPassive = true; }\n      }));\n    } catch (e) { }\n\n    const wheelOpt = supportsPassive ? { passive: false } : false;\n    const wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\n\n    function disableScroll() {\n\n      console.log(\"🚀 disableScroll\")\n      // BUG: keydown for fn+home/end/pgUp/pgDown & space!\n\n      window.addEventListener('DOMMouseScroll', preventDefault, false); // older FF\n      window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop\n      window.addEventListener('touchmove', preventDefault, wheelOpt); // mobile\n      window.addEventListener('keydown', preventDefaultForScrollKeys, false);\n    }\n    function enableScroll() {\n      console.log('🚀 Enable Scroll');\n      // BUG: wheelEvent/keyup 'wheel' NOT removed!\n      window.removeEventListener('DOMMouseScroll', preventDefault, false);\n      window.removeEventListener(wheelEvent, preventDefault, wheelOpt);\n      window.removeEventListener('touchmove', preventDefault, wheelOpt);\n      window.removeEventListener('keydown', preventDefaultForScrollKeys, false);\n    }\n    scrollLock.disableScroll = disableScroll;\n    scrollLock.enableScroll = enableScroll;\n  }\n}\n\n\ninit()\n"]}